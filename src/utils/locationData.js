/**
 * Location Data for Sri Lanka
 * Contains districts and their corresponding towns for location selection
 */

export const LOCATION_DATA = [
  {
    district: 'Colombo',
    towns: ['Colombo', 'Dehiwala', 'Mount Lavinia', 'Moratuwa', 'Kotte', 'Maharagama', 'Kesbewa', 'Homagama', 'Padukka', 'Kolonnawa']
  },
  {
    district: 'Gampaha',
    towns: ['Gampaha', 'Negombo', 'Katunayake', 'Minuwangoda', 'Ja-Ela', 'Wattala', 'Kelaniya', 'Peliyagoda', 'Kadawatha', 'Ragama']
  },
  {
    district: 'Kalutara',
    towns: ['Kalutara', 'Panadura', 'Horana', 'Beruwala', 'Aluthgama', 'Matugama', 'Wadduwa', 'Bandaragama', 'Ingiriya', 'Bulathsinhala']
  },
  {
    district: 'Kandy',
    towns: ['Kandy', 'Katugastota', 'Gampola', 'Nawalapitiya', 'Peradeniya', 'Akurana', 'Kadugannawa', 'Pilimatalawa', 'Daulagala', 'Wattegama']
  },
  {
    district: 'Matale',
    towns: ['Matale', 'Dambulla', 'Sigiriya', 'Ukuwela', 'Rattota', 'Galewela', 'Naula', 'Pallepola', 'Yatawatta', 'Laggala']
  },
  {
    district: 'Nuwara Eliya',
    towns: ['Nuwara Eliya', 'Hatton', 'Nallathanniya', 'Talawakele', 'Nildandahinna', 'Ginigathena', 'Kotagala', 'Bogawantalawa', 'Maskeliya', 'Agrapatana']
  },
  {
    district: 'Galle',
    towns: ['Galle', 'Hikkaduwa', 'Ambalangoda', 'Elpitiya', 'Bentota', 'Baddegama', 'Balapitiya', 'Karapitiya', 'Habaraduwa', 'Ahangama']
  },
  {
    district: 'Matara',
    towns: ['Matara', 'Weligama', 'Mirissa', 'Akuressa', 'Hakmana', 'Deniyaya', 'Dikwella', 'Kamburugamuwa', 'Devinuwara', 'Gandara']
  },
  {
    district: 'Hambantota',
    towns: ['Hambantota', 'Tangalle', 'Tissamaharama', 'Beliatta', 'Ambalantota', 'Weeraketiya', 'Suriyawewa', 'Middeniya', 'Katuwana', 'Lunugamvehera']
  },
  {
    district: 'Jaffna',
    towns: ['Jaffna', 'Nallur', 'Chavakachcheri', 'Point Pedro', 'Karainagar', 'Velanai', 'Chankanai', 'Sandilipay', 'Tellippalai', 'Kopay']
  },
  {
    district: 'Kilinochchi',
    towns: ['Kilinochchi', 'Pallai', 'Paranthan', 'Poonakary', 'Kandavalai', 'Karachchi']
  },
  {
    district: 'Mannar',
    towns: ['Mannar', 'Madhu', 'Nanattan', 'Murunkan', 'Thalaimannar', 'Pesalai']
  },
  {
    district: 'Vavuniya',
    towns: ['Vavuniya', 'Nedunkeni', 'Omanthai', 'Cheddikulam', 'Vavuniya South']
  },
  {
    district: 'Mullaitivu',
    towns: ['Mullaitivu', 'Oddusuddan', 'Puthukudiyiruppu', 'Manthai East', 'Thunukkai']
  },
  {
    district: 'Batticaloa',
    towns: ['Batticaloa', 'Kattankudy', 'Eravur', 'Valachchenai', 'Kaluwanchikudy', 'Chenkaladi', 'Oddamavadi', 'Kalkudah']
  },
  {
    district: 'Ampara',
    towns: ['Ampara', 'Kalmunai', 'Sammanthurai', 'Akkaraipattu', 'Pottuvil', 'Sainthamaruthu', 'Nintavur', 'Addalachchenai', 'Uhana', 'Mahaoya']
  },
  {
    district: 'Trincomalee',
    towns: ['Trincomalee', 'Kinniya', 'Mutur', 'Kantale', 'China Bay', 'Nilaveli', 'Kuchchaveli', 'Gomarankadawala', 'Seruvila']
  },
  {
    district: 'Kurunegala',
    towns: ['Kurunegala', 'Kuliyapitiya', 'Narammala', 'Wariyapola', 'Pannala', 'Melsiripura', 'Mawathagama', 'Polgahawela', 'Bingiriya', 'Nikaweratiya']
  },
  {
    district: 'Puttalam',
    towns: ['Puttalam', 'Chilaw', 'Wennappuwa', 'Marawila', 'Nattandiya', 'Dankotuwa', 'Anamaduwa', 'Mundel', 'Kalpitiya', 'Norachcholai']
  },
  {
    district: 'Anuradhapura',
    towns: ['Anuradhapura', 'Kekirawa', 'Medawachchiya', 'Tambuttegama', 'Eppawala', 'Galenbindunuwewa', 'Mihintale', 'Nochchiyagama', 'Rambewa', 'Talawa']
  },
  {
    district: 'Polonnaruwa',
    towns: ['Polonnaruwa', 'Kaduruwela', 'Medirigiriya', 'Hingurakgoda', 'Dimbulagala', 'Welikanda', 'Aralaganwila', 'Lankapura']
  },
  {
    district: 'Badulla',
    towns: ['Badulla', 'Bandarawela', 'Haputale', 'Welimada', 'Mahiyanganaya', 'Hali Ela', 'Passara', 'Ella', 'Diyathalawa', 'Uva Paranagama']
  },
  {
    district: 'Monaragala',
    towns: ['Monaragala', 'Wellawaya', 'Bibile', 'Buttala', 'Kataragama', 'Medagama', 'Siyambalanduwa', 'Thanamalwila']
  },
  {
    district: 'Ratnapura',
    towns: ['Ratnapura', 'Embilipitiya', 'Balangoda', 'Pelmadulla', 'Eheliyagoda', 'Kuruwita', 'Kahawatte', 'Kalawana', 'Nivitigala', 'Godakawela']
  },
  {
    district: 'Kegalle',
    towns: ['Kegalle', 'Mawanella', 'Warakapola', 'Rambukkana', 'Galigamuwa', 'Dehiowita', 'Deraniyagala', 'Kitulgala', 'Yatiyantota', 'Ruwanwella']
  }
];

/**
 * Get all districts
 * @returns {string[]} Array of district names
 */
export const getDistricts = () => {
  return LOCATION_DATA.map(item => item.district);
};

/**
 * Get towns for a specific district
 * @param {string} district - District name
 * @returns {string[]} Array of town names
 */
export const getTownsForDistrict = (district) => {
  const districtData = LOCATION_DATA.find(item => item.district === district);
  return districtData ? districtData.towns : [];
};

/**
 * Search districts by query
 * @param {string} query - Search query
 * @returns {string[]} Matching district names
 */
export const searchDistricts = (query) => {
  if (!query) return getDistricts();
  
  const lowerQuery = query.toLowerCase();
  return LOCATION_DATA
    .filter(item => item.district.toLowerCase().includes(lowerQuery))
    .map(item => item.district);
};

/**
 * Search towns across all districts
 * @param {string} query - Search query
 * @returns {Array<{district: string, town: string}>} Matching towns with their districts
 */
export const searchTowns = (query) => {
  if (!query) return [];
  
  const lowerQuery = query.toLowerCase();
  const results = [];
  
  LOCATION_DATA.forEach(districtData => {
    districtData.towns.forEach(town => {
      if (town.toLowerCase().includes(lowerQuery)) {
        results.push({
          district: districtData.district,
          town: town
        });
      }
    });
  });
  
  return results;
};

/**
 * Get district for a specific town
 * @param {string} townName - Town name
 * @returns {string|null} District name or null if not found
 */
export const getDistrictForTown = (townName) => {
  for (const districtData of LOCATION_DATA) {
    if (districtData.towns.includes(townName)) {
      return districtData.district;
    }
  }
  return null;
};

/**
 * Validate if a district exists
 * @param {string} district - District name
 * @returns {boolean} True if district exists
 */
export const isValidDistrict = (district) => {
  return LOCATION_DATA.some(item => item.district === district);
};

/**
 * Validate if a town exists in a district
 * @param {string} district - District name
 * @param {string} town - Town name
 * @returns {boolean} True if town exists in the district
 */
export const isValidTown = (district, town) => {
  const districtData = LOCATION_DATA.find(item => item.district === district);
  return districtData ? districtData.towns.includes(town) : false;
};

export default LOCATION_DATA;